{% extends "base.html" %} {% block content %}

<br />
<h1>{% block title %} Economic Calendar {% endblock %}</h1>
<br />
<p>
  An economic calendar is a schedule of data releases and news events which
  relate to the financial markets and the economy of the world's leading
  economies. Economic calendars are typically used by traders and investors to
  monitor market-moving events, such as economic indicators and monetary policy
  decisions. Market-moving events, which are typically announced or released in
  a report, have the potential to move the markets and, therefore, are closely
  watched by traders and investors.
</p>
<br />
<h2 class="subtitle">Here is today's economic highlights</h2>
<br />

<!-- dashboard.html -->
<div class="table-responsive">
  <table class="table">
    <tr>
      <th class="text-truncate">Indicator</th>
      <th class="text-truncate">Title</th>
      <th class="text-truncate">Value</th>
      <th class="text-truncate">Date</th>
      <th class="text-truncate">Previous Value</th>
      <th class="text-truncate">Previous Date</th>
    </tr>
    {% for indicator, (title, value, date, previous_value, previous_date,
    series_notes) in standard_data.items() %}
    <tr>
      <td class="text-truncate">{{ indicator }}</td>
      <td
        data-bs-toggle="tooltip"
        data-placement="top"
        data-bs-title="{{ series_notes }}"
      >
        <a href="#" class="link-primary">{{ title|truncate(68, False) }}</a>
      </td>
      <td class="text-truncate">{{ value }}</td>
      <td class="text-truncate">{{ date }}</td>
      <td class="text-truncate">{{ previous_value }}</td>
      <td class="text-truncate">{{ previous_date }}</td>
    </tr>
    {% endfor %}
  </table>
</div>

{% if not current_user.is_authenticated %}
<br />
<p>
  To use our economic calendar, simply sign up for an account and log in. Then,
  you can customize your own dashboard.
</p>
<a href="{{ url_for('auth.signup') }}">
  <button type="button" class="btn btn-primary">Sign Up</button>
</a>

{% endif %}

<!-- ToolTip -->
<script>
  document.addEventListener("DOMContentLoaded", (event) => {
    const tooltipTriggerList = Array.from(
      document.querySelectorAll('[data-bs-toggle="tooltip"]')
    );
    const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl);
    });
  });
</script>

{% endblock %}
